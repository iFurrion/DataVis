<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sleep vs Stress</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <h2>Sleep Duration vs Stress Level</h2>
  <svg id="chart" width="600" height="400"></svg>
  <script>
    d3.csv("Sleep_health_and_lifestyle_dataset.csv").then(data => {
      data.forEach(d => { d["Sleep Duration"]=+d["Sleep Duration"]; d["Stress Level"]=+d["Stress Level"]; });
      const svg=d3.select("#chart"), width=600, height=400, margin={top:40,right:20,bottom:50,left:50};
      const x=d3.scaleLinear().domain(d3.extent(data,d=>d["Sleep Duration"])).nice().range([margin.left,width-margin.right]);
      const y=d3.scaleLinear().domain(d3.extent(data,d=>d["Stress Level"])).nice().range([height-margin.bottom,margin.top]);
      svg.append("g").attr("transform",`translate(0,${height-margin.bottom})`).call(d3.axisBottom(x));
      svg.append("g").attr("transform",`translate(${margin.left},0)`).call(d3.axisLeft(y));
      svg.append("g").selectAll("circle").data(data).join("circle")
         .attr("cx",d=>x(d["Sleep Duration"])).attr("cy",d=>y(d["Stress Level"]))
         .attr("cx", d => x(d["Sleep Duration"]) + (Math.random() - 0.5) * 5) // jitter x
        .attr("cy", d => y(d["Stress Level"]) + (Math.random() - 0.5) * 5)  // jitter y
        .attr("opacity", 0.6)
        .attr("r",3).attr("fill","steelblue").attr("opacity",0.7);
      svg.append("text").attr("x",width/2).attr("y",height-10).attr("text-anchor","middle").text("Sleep Duration (hours)");
      svg.append("text").attr("transform","rotate(-90)").attr("x",-height/2).attr("y",15).attr("text-anchor","middle").text("Stress Level");
      svg.append("text").attr("x",width/2).attr("y",margin.top/2).attr("text-anchor","middle").style("font-weight","bold").text("Sleep vs Stress");
      
    });
  </script>
</body>
</html>
